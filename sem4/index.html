<!DOCTYPE html>
<html lang="en">    
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HTML5 - Canvas Drawing</title>
</head>

<body>
  <canvas id="img">
    Your browser does not support the canvas element.
  </canvas>

  <script type="module">
    import { BarChart } from "./canvas-bar-chart-library.js";

    const image = document.getElementById('img');
    const imageCtx = image.getContext('2d');

    document.addEventListener('dragover', (event) => {
      event.preventDefault();
    });

    document.addEventListener('drop', (event) => {
      event.preventDefault();

      const files = event.dataTransfer.files;
      if (files.length > 0) {
        const file = files[0];
        const reader = new FileReader();

        reader.addEventListener('load', () => {
          const dataUrl = reader.result;
          const img = document.createElement('img');

          img.addEventListener('load', () => {
            // ðŸ”§ RedimensioneazÄƒ canvas-ul la dimensiunile imaginii
            image.width = img.width;
            image.height = img.height;

            // AfiÈ™eazÄƒ imaginea redimensionatÄƒ pe canvas
            imageCtx.drawImage(img, 0, 0, img.width, img.height);
          });

          img.src = dataUrl;
        });

        reader.addEventListener('error', () => { 
          alert('Error while reading file');
        });

        reader.readAsDataURL(file);
      }
    });
  </script>
</body>
</html>
